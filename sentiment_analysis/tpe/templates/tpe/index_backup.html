<!DOCTYPE html>
 {% load static %}

<html>
   <head>
      <title>TPE</title>
      <meta charset="utf-8" />
      <!-- Latest compiled and minified CSS -->
      <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
      <!-- jQuery library -->
      <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
      <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
      <!-- Latest compiled JavaScript -->
      <meta name='viewport' content='initial-scale=1,maximum-scale=1,user-scalable=no' />
      <script src='https://api.tiles.mapbox.com/mapbox-gl-js/v0.37.0/mapbox-gl.js'></script>
      <link href='https://api.tiles.mapbox.com/mapbox-gl-js/v0.37.0/mapbox-gl.css' rel='stylesheet' />
      <link rel = "stylesheet" href = "https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.3.0/css/font-awesome.min.css">
      <link rel = "stylesheet" href = "http://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap.min.css">
      <link rel = "stylesheet" href = "bootstrap-social.css">     
      <link href="timeline.css" rel="stylesheet">
      <script src="//code.jquery.com/jquery.min.js"></script>
      <link rel="stylesheet" href="http://libs.cartocdn.com/cartodb.js/v3/3.15/themes/css/cartodb.css" />
      <script src="http://libs.cartocdn.com/cartodb.js/v3/3.15/cartodb.js"></script>
      <link rel="stylesheet" href="https://unpkg.com/leaflet@1.2.0/dist/leaflet.css"
      integrity="sha512-M2wvCLH6DSRazYeZRIm1JnYyh22purTM+FDB5CsyxtQJYeKq83arPe5wgbNmcFXGqiSH2XR8dT/fJISVA1r/zQ=="
      crossorigin=""/>
      <!-- Make sure you put this AFTER Leaflet's CSS -->
      <script src="https://unpkg.com/leaflet@1.2.0/dist/leaflet.js"
      integrity="sha512-lInM/apFSqyy1o6s89K4iQUKg6ppXEgsVxT35HbzUupEVRh2Eu9Wdl4tHj7dZO0s1uvplcYGmt3498TtHq+log=="
      crossorigin=""></script>
      <!--<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>-->
      <!--<script src="timeline.js"></script>-->
      {% load static %}
      <link href="{% static "tpe/vis.min.css" %}" rel="stylesheet" type="text/css" />     
      <script src="{% static "tpe/vis.min.js" %}"></script>  
      <style>
         body{ 
	      margin:0; padding:0;
	 } 
    	 body,html{
      		font-family: sans-serif;
	}     
        #map4 {  width:100%; height:500px }
	#leaflet{ 
		  height: 500px; width:50%;
	} 
        #map_carto{
	           width:50%;
        }       
         .map-overlay {
         font: 12px/20px 'Helvetica Neue', Arial, Helvetica, sans-serif;
         position: relative;
         width: 25%;
         top: 0;
         left: 0;
         padding: 10px;
         }         
         .map-overlay .map-overlay-inner {
         background-color: #fff;
         box-shadow:0 1px 2px rgba(0, 0, 0, 0.20);
         border-radius: 3px;
         padding: 10px;
         margin-bottom: 10px;
         }         
         .map-overlay h2 {
         line-height: 24px;
         display: block;
         margin: 0 0 10px;
         }         
         .map-overlay .legend .bar {
         height: 10px;
         width: 100%;
         background: linear-gradient(to right, #FCA107, #7F3121);
         }
         .map-overlay input {
         background-color: transparent;
         display: inline-block;
         width: 100%;
         position: relative;
         margin: 0;
         cursor: ew-resize;
         }         
         video{ 
         width: 100%;
         height: 100%;
         }         
         /*.marker {
            display: block;
            border: none;
            border-radius: 50%;
            cursor: pointer;
            padding: 0;
         }*/
         #menu {        
            background: #fff;
            padding: 10px;
            font-family: 'Open Sans', sans-serif;
        }        
.marker {
{% load static %}
  /*background-image: url('{% static "tpe/mapbox-icon.png" %}');*/
  background-size: cover;
  width: 10px;
  height: 10px;
  border-radius: 50%;
  cursor: pointer;
}

.positif{
	background-color:rgba(0,255,0,1);
}

.negatif{
	background-color:rgba(255,100,0,1);
}

.neutre{
	background-color:rgba(0,0,255,1);
}

.mapboxgl-popup {
  max-width: 200px;
}

.mapboxgl-popup-content {
  text-align: center;
  font-family: 'Open Sans', sans-serif;
}
      </style>
   </head>
   
   <body>



      <div id="container" >
         <div id="myCarousel" class="carousel slide" data-ride="carousel">
            <!-- Indicators -->
            <ol class="carousel-indicators">
               <li data-target="#myCarousel" data-slide-to="0" class="active"></li>
               <li data-target="#myCarousel" data-slide-to="1"></li>
               <li data-target="#myCarousel" data-slide-to="2"></li>
               <li data-target="#myCarousel" data-slide-to="3"></li>
               <li data-target="#myCarousel" data-slide-to="4"></li>
               <li data-target="#myCarousel" data-slide-to="5"></li>
            </ol>
            <!-- Wrapper for slides -->
            <div class="carousel-inner" style="height:450px">
               <div class="item active">
                    <div class="jumbotron" style=" color:white;-webkit-text-fill-color: white;-webkit-text-stroke-width: 1px;-webkit-text-stroke-color: white;font-family: serif;height:450px;background-image:url('{% static "tpe/jumbotron-bg.jpg" %}');background-position:center; background-size: 100%">
                            <div style="background-color:rgba(0,0,0,0.3);margin-top:0%" >
                                <h1><span style="font-weight:bolder;margin:auto;width:50%;text-decoration:underline">TPE </span><br />L'information geolocalisee des reseaux sociaux pour la Ville Intelligente</h1>
                                <p style="font-style:italic">
                                    <!--<span style="text-decoration:underline;font-weight:bolder;color:red" >Encadrants :</span>  <br />
                                    - CAMP Olivier Collaboration externe : ESEO, Angers, France <br />
                                    - Ho Tuong Vinh, IFI             -->            
                                    <!--<a href="#">Cliquer pour voir l'intitule du sujet</a>-->
                                    <!-- Trigger the modal with a button -->
                                    <button type="button" class="btn btn-info btn-lg" data-toggle="modal" data-target="#myModal" style="margin-left:800px;font-weight:normal">Cliquer pour voir l'intitule du sujet</button>
                                    <br />
                                    <span style="text-decoration:underline;font-weight:bolder">Etudiant</span>  <br />
                                    MILORME Pierre Rubens
                                </p>
                            </div>
                    </div>
               </div>
               
               <div class="item">
                    <div class="jumbotron" style=" color:white;-webkit-text-fill-color: white;-webkit-text-stroke-width: 1px;-webkit-text-stroke-color: white;font-family: serif;background-color:rgba(255,0,0,0.3);margin-top:0%">
                            <div  >
                                <h1><span style="font-weight:bolder;margin:auto;width:50%;text-decoration:underline">TPE </span><br />L'information geolocalisee des reseaux sociaux pour la Ville Intelligente</h1>
                                <p style="font-style:italic">
                                    <!--<span style="text-decoration:underline;font-weight:bolder;color:red" >Encadrants :</span>  <br />
                                    - CAMP Olivier Collaboration externe : ESEO, Angers, France <br />
                                    - Ho Tuong Vinh, IFI             -->            
                                    <!--<a href="#">Cliquer pour voir l'intitule du sujet</a>-->
                                    <!-- Trigger the modal with a button -->
                                    <button type="button" class="btn btn-info btn-lg" data-toggle="modal" data-target="#myModal" style="margin-left:800px;font-weight:normal">Cliquer pour voir l'intitule du sujet</button>
                                    <br />
                                    <span style="text-decoration:underline;font-weight:bolder">Etudiant</span>  <br />
                                    MILORME Pierre Rubens
                                </p>
                            </div>
                    </div>
               </div>
               
                <div class="item" style="text-align:center;">
                  {% load static %}
                  <p><img src="{% static "tpe/logo_ifi_2.png" %}" alt="IFI"/></p>
               </div>
               <div class="item" style="text-align:center;">
                  {% load static %}
                  <p><img src="{% static "tpe/bird_twitter_new_single.png" %}" alt="Twitter Icon" style="margin-top:50px"  /></p>
               </div>
               <div class="item" style="text-align:center;">
                  {% load static %}
                  <p><img src="{% static "tpe/smart-city.jpg" %}" alt="Smart City" style="margin-top:-270px;width:100%;"  /></p>
               </div>
               <div class="item" style="text-align:center;">
                  {% load static %}
                  <p ><img src="{% static "tpe/airports-map.png" %}" alt="Chicago"  style="margin-top:-120px;width:100%;"  /></p>
               </div>
               <div class="item" style="text-align:center;">
                  <p ><video src=" {% static "tpe/hd0941.mov" %}" style="margin-top:-100px" autoplay loop /></p>
               </div>
            </div>
            <!-- Left and right controls -->
            <a class="left carousel-control" href="#myCarousel" data-slide="prev">
            <span class="glyphicon glyphicon-chevron-left"></span>
            <span class="sr-only">Previous</span>
            </a>
            <a class="right carousel-control" href="#myCarousel" data-slide="next">
            <span class="glyphicon glyphicon-chevron-right"></span>
            <span class="sr-only">Next</span>
            </a>
         </div>
         <br />
         <!-- <iframe src="" style="width:1400px; height:400px" scrolling="yes"></iframe>-->
      </div>
      <div class="row">
         <div id="controls" class="col-sm-3">
            <div>
               <div style="text-align:justify; border-color:red; border-width:1px">
                  <p>
                     <!-- Modal -->
                  <div id="myModal" class="modal fade" role="dialog">
                     <div class="modal-dialog">
                        <!-- Modal content-->
                        <div class="modal-content">
                           <div class="modal-header">
                              <button type="button" class="close" data-dismiss="modal">&times;</button>
                              <h4 class="modal-title" style="font-weight:bolder;color:#0074D9">L'information géolocalisée des réseaux sociaux pour la Ville Intelligente<br /><br />
                                 Encadrants :<br />
                                 - CAMP Olivier Collaboration externe : ESEO, Angers, France<br />
                                 - Ho Tuong Vinh, IFI
                                 - Etudiant : MILORME Pierre Rubens
                              </h4>                              
                           </div>
                           <div class="modal-body">
                              <p>
                              <h4>Contexte</h4>
                              <br />
                              Les réseaux sociaux tels que Twitter, Facebook, Instagram, FourSquare, ... 
                              regorgent d'informations provenant d'utilisateurs à travers le monde. Ces 
                              informations sont, pour certaines, explicitement géolocalisées ou peuvent l'être 
                              [1]. De nombreuses recherches dans la thématique de la Ville Intelligente 
                              tendent à étudier ces données pour en déduire des informations plus générales 
                              sur une ville, un quartier ou ses habitants. Certaines cherchent à en extraire les 
                              habitudes de déplacement de leurs populations pour déduire des communautés 
                              d'utilisateurs partageant des intérêts communs[2]. D'autres visent à analyser la 
                              dynamique d'une ville [3] ou l'humeur de ses habitants [4] pour recommander 
                              des services contextuels personnalisés [5, 6].<br /><br />  
                              <h4>Objectif du TPE</h4>
                              <br /> 
                              L'objectif de ce TPE est de proposer un outil permettant de déduire des 
                              informations sur une ville et sur ses habitants depuis des messages Twitter et de 
                              visualiser ces informations sur une carte. Des exemples d'informations pouvant 
                              être déduites sont : les lieux fréquentés en fonction du jour, de l'heure ou de la 
                              saison, les utilisateurs ou communautés influents, les communautés 
                              d'utilisateurs partageant des intérêts communs, les centres d'intérêt des 
                              utilisateurs ...  
                              <br /><br />
                              <h4>Travaux théoriques</h4>
                              <br />
                              Étudier l'état de l'art sur l'utilisation des réseaux sociaux dans l'extraction 
                              d'information sur une ville et sur ses habitants, afin de :  
                              o dresser la liste des informations pouvant être déduites,  
                              o recenser et étudier les techniques mises en œuvre pour la 
                              déduction de ces informations,  
                              o étudier et recenser les types d'applications utilisant ces 
                              informations.  
                              <br /><br />
                              <h4>Travaux pratiques</h4>
                              <br /> 
                              Après avoir identifié un sous ensemble d'informations pertinentes et 
                              illustratives concernant la ville, ses quartier et ses habitants développer 
                              une application permettant de visualiser ces informations. L'application 
                              devra prendre en charge toute la chaîne depuis l'acquisition des données 
                              sur Twitter (et éventuellement les autres réseaux sociaux considérés), le 
                              stockage des données dans une base de données appropriée, le traitement 
                              des données, l'affichage des résultats sur une carte et leur exploration 
                              dans le temps et dans l'espace.<br /><br />
                              <h4>Références</h4>
                              <br />
                              1. Pavlos Paraskevopoulos and Themis Palpanas. 2015. FineGGrained 
                              Geolocalisation of NonGGeotagged Tweets. In Proceedings of the 2015 
                              IEEE/ACM International Conference on Advances in Social Networks 
                              Analysis and Mining 2015 (ASONAM '15), Jian Pei, Fabrizio Silvestri, and 
                              Jie Tang (Eds.). ACM, New York, NY, USA, 105G 112. DOI: 
                              http://dx.doi.org/10.1145/2808797.2808869<br /><br />
                              2. Justin Cranshaw, Eran Toch, Jason Hong, Aniket Kittur, and Norman 
                              Sadeh. 2010. Bridging the gap between physical location and online social 
                              networks. In Proceedings of the 12th ACM international conference on 
                              Ubiquitous computing (UbiComp '10). ACM, New York, NY, USA, 119G128. 
                              DOI=http://dx.doi.org/10.1145/1864349.1864380  <br /><br /> 
                              3. Urbano França, Hiroki Sayama, Colin McSwiggen, Roozbeh Daneshvar, 
                              Yaneer BarG Yam. 2016. Visualizing the "heartbeat" of a city with tweets. 
                              Complexity 21(6): 280G 287   <br /><br />
                              4. Karla Z. Bertrand, Maya Bialik, Kawandeep Virdee, Andreas Gros, Yaneer 
                              BarG Yam.2013. Sentiment in New York City: A High Resolution Spatial 
                              and Temporal View. CoRR abs/1308.5010 <br /><br />
                              5. Liu, Q., Ma, H., Chen, E., & Xiong, H. (2013). A survey of contextGaware 
                              mobile recommendations. International Journal of Information 
                              Technology & Decision Making, 12(01), 139G172.  <br /><br /> 
                              6. Uan Yuan, Gao Cong, Kaiqi Zhao, Zongyang Ma, and Aixin Sun. 2015. Who, 
                              Where, When, and What: A Nonparametric Bayesian Approach to ContextG
                              aware Recommendation and Search for Twitter Users. ACM Trans. Inf. 
                              Syst. 33, 1, Article 2 (February 2015), 33 pages. DOI: 
                              http://dx.doi.org/10.1145/2699667
                              </p>
                           </div>
                           <div class="modal-footer">
                              <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                           </div>
                           <br />
                        </div>
                     </div>
                  </div>
                  </p>
                  <!--<br /><br /><br />-->
               
                    <br /><br /><br />
                <hr />
                <p style="margin-top:10px;text-decoration:underline;text-align:center;font-family:curvy serif;text-transform:uppercase;font-weight: bolder" class="text-muted">Acquisition des donnees</p>
                <p>
                        <a class="btn btn-block btn-md btn-social btn-twitter btn-info" style="width:70%;margin:auto;">
                            <span class="fa fa-twitter"></span>
                            twitter
                        </a>
                       
                    </p>
                    
                    <p>
                         <a class="btn btn-block btn-md btn-social btn-facebook btn-primary" style="width:70%;margin:auto;">
                            <span class="fa fa-facebook"></span>
                            facebook
                        </a>
                    </p>
                <hr />
                <p style="margin-top:10px;text-decoration:underline;text-align:center;font-family:curvy serif;text-transform:uppercase;font-weight: bolder" class="text-muted">Methodes de visualisation</p>
                  <form style="margin-top:10px">
                        <div class="radio">
                        <label><input type="radio" name="optradio"><span style="font-weight:bold" class="text-info">Point Map</span></label>
                        </div>
                        <div class="radio">
                        <label><input type="radio" name="optradio"><span style="font-weight:bold" class="text-info">Heatmap</span></label>
                        </div>
                        <!--<div class="radio disabled">
                        <label><input type="radio" name="optradio"><span style="font-weight:bold" class="text-info">Desactiver Layer</span></label>
                        </div>-->
                  </form>         
                <hr />
                <p style="margin-top:10px;text-decoration:underline;text-align:center;font-family:curvy serif;text-transform:uppercase;font-weight: bolder" class="text-muted">HASHTAGS et RETWEETS</p>
                <ul class="nav nav-tabs">
                    <li class="active"><a href="#">Hashtags</a></li>
                    <li><a href="#">Retweets</a></li>
                </ul>
                  <hr />
<!--                    -->
                <p style="margin-top:10px;text-decoration:underline;text-align:center;font-family:curvy serif;text-transform:uppercase;font-weight: bolder" class="text-muted">TRENDING TOPICS</p>
                       
                </div>
            </div>
         </div>
         <form>
            <div class="form-group" style="text-align:center">
               <input type="text" class="form-control" id="search" placeholder="Filtrer #HASHTAG, NAME, TOPIC" style="width:1000px">
            </div>
         </form>
         <!--<div id="map" class="col-sm-9" style="width: 1000px; height: 650px; margin:auto"></div>-->
	<p> 
		<form class="form-inline">
		    <div class="form-group">
		       <input type="date" class="form-control" style="display:inline">
		 </div>
	         <div class="form-group">
		       <input type="date" class="form-control" style="display:inline">
		 </div>
		 </form>
		 <div id='map' class="col-sm-12" style="width: 1000px; height: 650px; border: 1px solid lightgray;border-radius:5px">
         </p>
         
        <div id='menu' style="width:1000px; background-color:black;color:white">
            <input id='basic' type='radio' name='rtoggle' value='basic' checked='checked'>
            <label for='basic'>basique</label>
            <input id='streets' type='radio' name='rtoggle' value='streets'>
            <label for='streets'>rues</label>
            <input id='bright' type='radio' name='rtoggle' value='bright'>
            <label for='bright'>brillant</label>
            <input id='light' type='radio' name='rtoggle' value='light'>
            <label for='light'>lumineux</label>
            <input id='dark' type='radio' name='rtoggle' value='dark'>
            <label for='dark'>sombre</label>
            <input id='satellite' type='radio' name='rtoggle' value='satellite'>
            <label for='satellite'>satellite</label>
        </div>
       
        <script>
            mapboxgl.accessToken = 'pk.eyJ1Ijoic2VuYnVyYmVucyIsImEiOiJjajM1azh4cHAwMWExMzJvenpoeG9ucGo4In0.oOu3kXrL-7WqAQSpFVndJw';
            var map = new mapboxgl.Map({
                container: 'map',
                style: 'mapbox://styles/mapbox/basic-v9',
            zoom: 9,
                center: [105.8342, 21.0278]
            });

            var layerList = document.getElementById('menu');
            var inputs = layerList.getElementsByTagName('input');

            function switchLayer(layer) {
                var layerId = layer.target.id;
                map.setStyle('mapbox://styles/mapbox/' + layerId + '-v9');
            }

            for (var i = 0; i < inputs.length; i++) {
                inputs[i].onclick = switchLayer;
            }

	    /*var geojson = {
		  type: 'FeatureCollection',
		  features: [{
		    type: 'Feature',
		    geometry: {
		      type: 'Point',
		      coordinates: [2.356972,48.870619]              
		    },
		    properties: {
		      title: 'Mapbox',
		      description: 'Washington, D.C.'
		    }
		  },
		  {
		    type: 'Feature',
		    geometry: {
		      type: 'Point',
		      coordinates: [2.388859 , 48.857791]      
		    },
		    properties: {
		      title: 'Mapbox',
		      description: 'San Francisco, California'
		    }
		  }]
		};*/

		var geojson = {
		  type: 'FeatureCollection',
		  features: [
		  {% for tweet in liste %}
			{% if tweet.latitude %}
		   {
		    type: 'Feature',
		    geometry: {
		      type: 'Point',
		      coordinates: [{{ tweet.longitude }},{{ tweet.latitude }}]              
		    },
		    properties: {
		      title: '{{ tweet.polarite }}',
		      description: 'TEST',
		    }
		  }
			   ,
		{% endif %}
		{% endfor %}
		  /*{
		    type: 'Feature',
		    geometry: {
		      type: 'Point',
		      coordinates: [2.388859 , 48.857791]      
		    },
		    properties: {
		      title: 'Mapbox',
		      description: 'San Francisco, California'
		    }
		  }*/]
		};

// add markers to map
geojson.features.forEach(function(marker) {

  // create a HTML element for each feature
  var el = document.createElement('div');
  if (marker.properties.title == 'positif'){
	el.className = 'marker positif';
  }else if (marker.properties.title == 'negatif'){
	el.className = 'marker negatif';
  }else{
  	el.className = 'marker neutre';
  }
  


  // make a marker for each feature and add to the map
  new mapboxgl.Marker(el)
  .setLngLat(marker.geometry.coordinates)
.setPopup(new mapboxgl.Popup({ offset: 5 }) // add popups
  .setHTML('<h3>' + marker.properties.title + '</h3><p>' + marker.properties.description + '</p>'))
  .addTo(map);
});
        </script>



        
        </div></div><br/>
        
	<p>
		<!--Timeline-->
		<div id="visualization"></div>

		<script type="text/javascript">
		  // DOM element where the Timeline will be attached
		  var containerVis = document.getElementById('visualization');

		  // Create a DataSet (allows two way data-binding)
		  var items = new vis.DataSet([
		    {id: 1, content: 'item 1', start: '2013-04-20'},
		    {id: 2, content: 'item 2', start: '2013-04-14'},
		    {id: 3, content: 'item 3', start: '2013-04-18'},
		    {id: 4, content: 'item 4', start: '2013-04-16', end: '2013-04-19'},
		    {id: 5, content: 'item 5', start: '2013-04-25'},
		    {id: 6, content: 'item 6', start: '2013-04-27'}
		  ]);

		  // Configuration for the Timeline
		  var options = {};

		  // Create a Timeline
		  var timeline = new vis.Timeline(containerVis, items, options);
		</script>
	</p>
<p>
	<!--<div id="leaflet"></div>-->
	<!--<script>
		var map = L.map('leaflet').setView([51.505, -0.09], 13);
		L.tileLayer('http://{s}.tile.osm.org/{z}/{x}/{y}.png', {
		    attribution: '&copy; <a href="http://osm.org/copyright">OpenStreetMap</a> contributors'
		}).addTo(map);

	<!--	L.marker([51.5, -0.09]).addTo(map)
		    .bindPopup('A pretty CSS3 popup.<br> Easily customizable.')
		    .openPopup();
	</script>-->
<div id="map_carto"></div>
<script src="http://libs.cartocdn.com/cartodb.js/v3/3.15/cartodb.js"></script>
<script>
	// get the viz.json url from the CARTO Editor
	// - click on visualize
	// - create new visualization
	// - make visualization public
	// - click on publish
	// - go to API tab

	window.onload = function() {
	  cartodb.createVis('map_carto', 'http://documentation.carto.com/api/v2/viz/2b13c956-e7c1-11e2-806b-5404a6a683d5/viz.json');
	}
</script>
</p>
<hr />
	<object type="text/html" data="http://localhost:7474/browser/" style="width:100%; height:500px"></object>
<hr />
<br/>
<hr />           

<div style="text-align:center">
    <div id="container_highcharts" style="width: 23%; height: 400px; margin: 0 auto;display:inline-block"></div>
    <div id="container_highcharts2" style="width: 23%; height: 400px; margin: 0 auto;display:inline-block"></div>
    <div id="container_highcharts3" style="width: 23%; height: 400px; margin: 0 auto;display:inline-block"></div>
    <div id="container_highcharts4" style="width: 23%; height: 400px; margin: 0 auto;display:inline-block"></div>
</div>

<hr />  

       <script src="https://code.highcharts.com/highcharts.js"></script>
<script>
$(document).ready(function() {
   var title = {
      text: 'Monthly Average Temperature'   
   };
   var subtitle = {
      text: 'Source: WorldClimate.com'
   };
   var xAxis = {
      categories: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun',
         'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec']
   };
   var yAxis = {
      title: {
         text: 'Temperature (\xB0C)'
      },
      plotLines: [{
         value: 0,
         width: 1,
         color: '#808080'
      }]
   };   

   var tooltip = {
      valueSuffix: '\xB0C'
   }

   var legend = {
      layout: 'vertical',
      align: 'right',
      verticalAlign: 'middle',
      borderWidth: 0
   };

   var series =  [
      {
         name: 'Tokyo',
         data: [7.0, 6.9, 9.5, 14.5, 18.2, 21.5, 25.2,
            26.5, 23.3, 18.3, 13.9, 9.6]
      }, 
      {
         name: 'New York',
         data: [-0.2, 0.8, 5.7, 11.3, 17.0, 22.0, 24.8,
            24.1, 20.1, 14.1, 8.6, 2.5]
      }, 
      {
         name: 'Berlin',
         data: [-0.9, 0.6, 3.5, 8.4, 13.5, 17.0, 18.6,
            17.9, 14.3, 9.0, 3.9, 1.0]
      }, 
      {
         name: 'London',
         data: [3.9, 4.2, 5.7, 8.5, 11.9, 15.2, 17.0, 
            16.6, 14.2, 10.3, 6.6, 4.8]
      }
   ];

   var json = {};

   json.title = title;
   json.subtitle = subtitle;
   json.xAxis = xAxis;
   json.yAxis = yAxis;
   json.tooltip = tooltip;
   json.legend = legend;
   json.series = series;

   $('#container_highcharts').highcharts(json);
});
</script>

<script language="JavaScript">
$(document).ready(function() {  
   var chart = {
       plotBackgroundColor: null,
       plotBorderWidth: null,
       plotShadow: false
   };
   var title = {
      text: 'Browser market shares at a specific website, 2014'   
   };      
   var tooltip = {
      pointFormat: '{series.name}: <b>{point.percentage:.1f}%</b>'
   };
   var plotOptions = {
      pie: {
         allowPointSelect: true,
         cursor: 'pointer',
         dataLabels: {
            enabled: false           
         },
         showInLegend: true
      }
   };
   var series= [{
      type: 'pie',
      name: 'Browser share',
      data: [
         ['Firefox',   45.0],
         ['IE',       26.8],
         {
            name: 'Chrome',
            y: 12.8,
            sliced: true,
            selected: true
         },
         ['Safari',    8.5],
         ['Opera',     6.2],
         ['Others',   0.7]
      ]
   }];     
      
   var json = {};   
   json.chart = chart; 
   json.title = title;     
   json.tooltip = tooltip;  
   json.series = series;
   json.plotOptions = plotOptions;
   $('#container_highcharts2').highcharts(json);  
});
</script>



<script language="JavaScript">
$(document).ready(function() {  
   var chart = {
      type: 'bar'
   };
   var title = {
      text: 'Bar chart with negative values'   
   };   
   var xAxis = {
      categories: ['Apples', 'Oranges', 'Pears', 'Grapes', 'Bananas']
   };
   var credits = {
      enabled: false
   };
   var series= [{
      name: 'John',
            data: [5, 3, 4, 7, 2]
        }, {
            name: 'Jane',
            data: [2, -2, -3, 2, 1]
        }, {
            name: 'Joe',
            data: [3, 4, 4, -2, 5]
      }
   ];     
      
   var json = {};   
   json.chart = chart; 
   json.title = title; 
   json.xAxis = xAxis;
   json.credits = credits;
   json.series = series;
   $('#container_highcharts3').highcharts(json);
  
});
</script>
<script language="JavaScript">
$(document).ready(function() {  
   var chart = {
      zoomType: 'x'
   }; 
   var title = {
      text: 'USD to EUR exchange rate from 2006 through 2008'   
   };
   var subtitle = {
      text: document.ontouchstart === undefined ?
                    'Click and drag in the plot area to zoom in' :
                    'Pinch the chart to zoom in'
   };
   var xAxis = {
      type: 'datetime',
      minRange: 14 * 24 * 3600000 // fourteen days
   };
   var yAxis = {
      title: {
         text: 'Exchange rate'
      }
   };
   var legend = {
      enabled: false 
   };
   var plotOptions = {
      area: {
         fillColor: {
            linearGradient: { x1: 0, y1: 0, x2: 0, y2: 1},
            stops: [
               [0, Highcharts.getOptions().colors[0]],
               [1, Highcharts.Color(Highcharts.getOptions().colors[0]).setOpacity(0).get('rgba')]
            ]
         },
         marker: {
            radius: 2
         },
         lineWidth: 1,
         states: {
            hover: {
               lineWidth: 1
            }
         },
         threshold: null
      }
   };
   var series= [{
      type: 'area',
      name: 'USD to EUR',
      pointInterval: 24 * 3600 * 1000,
      pointStart: Date.UTC(2006, 0, 1),
      data: [
         0.8446, 0.8445, 0.8444, 0.8451,    0.8418, 0.8264,    0.8258, 0.8232,    0.8233, 0.8258,
         0.8283, 0.8278, 0.8256, 0.8292,    0.8239, 0.8239,    0.8245, 0.8265,    0.8261, 0.8269,
         0.8273, 0.8244, 0.8244, 0.8172,    0.8139, 0.8146,    0.8164, 0.82,    0.8269, 0.8269,
         0.8269, 0.8258, 0.8247, 0.8286,    0.8289, 0.8316,    0.832, 0.8333,    0.8352, 0.8357,
         0.8355, 0.8354, 0.8403, 0.8403,    0.8406, 0.8403,    0.8396, 0.8418,    0.8409, 0.8384,
         0.8386, 0.8372, 0.839, 0.84, 0.8389, 0.84, 0.8423, 0.8423, 0.8435, 0.8422,
         0.838, 0.8373, 0.8316, 0.8303,    0.8303, 0.8302,    0.8369, 0.84, 0.8385, 0.84,
         0.8401, 0.8402, 0.8381, 0.8351,    0.8314, 0.8273,    0.8213, 0.8207,    0.8207, 0.8215,
         0.8242, 0.8273, 0.8301, 0.8346,    0.8312, 0.8312,    0.8312, 0.8306,    0.8327, 0.8282,
         0.824, 0.8255, 0.8256, 0.8273, 0.8209, 0.8151, 0.8149, 0.8213, 0.8273, 0.8273,
         0.8261, 0.8252, 0.824, 0.8262, 0.8258, 0.8261, 0.826, 0.8199, 0.8153, 0.8097,
         0.8101, 0.8119, 0.8107, 0.8105,    0.8084, 0.8069,    0.8047, 0.8023,    0.7965, 0.7919,
         0.7921, 0.7922, 0.7934, 0.7918,    0.7915, 0.787, 0.7861, 0.7861, 0.7853, 0.7867,
         0.7827, 0.7834, 0.7766, 0.7751, 0.7739, 0.7767, 0.7802, 0.7788, 0.7828, 0.7816,
         0.7829, 0.783, 0.7829, 0.7781, 0.7811, 0.7831, 0.7826, 0.7855, 0.7855, 0.7845,
         0.7798, 0.7777, 0.7822, 0.7785, 0.7744, 0.7743, 0.7726, 0.7766, 0.7806, 0.785,
         0.7907, 0.7912, 0.7913, 0.7931, 0.7952, 0.7951, 0.7928, 0.791, 0.7913, 0.7912,
         0.7941, 0.7953, 0.7921, 0.7919, 0.7968, 0.7999, 0.7999, 0.7974, 0.7942, 0.796,
         0.7969, 0.7862, 0.7821, 0.7821, 0.7821, 0.7811, 0.7833, 0.7849, 0.7819, 0.7809,
         0.7809, 0.7827, 0.7848, 0.785, 0.7873, 0.7894, 0.7907, 0.7909, 0.7947, 0.7987,
         0.799, 0.7927, 0.79, 0.7878, 0.7878, 0.7907, 0.7922, 0.7937, 0.786, 0.787,
         0.7838, 0.7838, 0.7837, 0.7836, 0.7806, 0.7825, 0.7798, 0.777, 0.777, 0.7772,
         0.7793, 0.7788, 0.7785, 0.7832, 0.7865, 0.7865, 0.7853, 0.7847, 0.7809, 0.778,
         0.7799, 0.78, 0.7801, 0.7765, 0.7785, 0.7811, 0.782, 0.7835, 0.7845, 0.7844,
         0.782, 0.7811, 0.7795, 0.7794, 0.7806, 0.7794, 0.7794, 0.7778, 0.7793, 0.7808,
         0.7824, 0.787, 0.7894, 0.7893, 0.7882, 0.7871, 0.7882, 0.7871, 0.7878, 0.79,
         0.7901, 0.7898, 0.7879, 0.7886, 0.7858, 0.7814, 0.7825, 0.7826, 0.7826, 0.786,
         0.7878, 0.7868, 0.7883, 0.7893, 0.7892, 0.7876, 0.785, 0.787, 0.7873, 0.7901,
         0.7936, 0.7939, 0.7938, 0.7956, 0.7975, 0.7978, 0.7972, 0.7995, 0.7995, 0.7994,
         0.7976, 0.7977, 0.796, 0.7922, 0.7928, 0.7929, 0.7948, 0.797, 0.7953, 0.7907,
         0.7872, 0.7852, 0.7852, 0.786, 0.7862, 0.7836, 0.7837, 0.784, 0.7867, 0.7867,
         0.7869, 0.7837, 0.7827, 0.7825, 0.7779, 0.7791, 0.779, 0.7787, 0.78, 0.7807,
         0.7803, 0.7817, 0.7799, 0.7799, 0.7795, 0.7801, 0.7765, 0.7725, 0.7683, 0.7641,
         0.7639, 0.7616, 0.7608, 0.759, 0.7582, 0.7539, 0.75, 0.75, 0.7507, 0.7505,
         0.7516, 0.7522, 0.7531, 0.7577, 0.7577, 0.7582, 0.755, 0.7542, 0.7576, 0.7616,
         0.7648, 0.7648, 0.7641, 0.7614, 0.757, 0.7587, 0.7588, 0.762, 0.762, 0.7617,
         0.7618, 0.7615, 0.7612, 0.7596, 0.758, 0.758, 0.758, 0.7547, 0.7549, 0.7613,
         0.7655, 0.7693, 0.7694, 0.7688, 0.7678, 0.7708, 0.7727, 0.7749, 0.7741, 0.7741,
         0.7732, 0.7727, 0.7737, 0.7724, 0.7712, 0.772, 0.7721, 0.7717, 0.7704, 0.769,
         0.7711, 0.774, 0.7745, 0.7745, 0.774, 0.7716, 0.7713, 0.7678, 0.7688, 0.7718,
         0.7718, 0.7728, 0.7729, 0.7698, 0.7685, 0.7681, 0.769, 0.769, 0.7698, 0.7699,
         0.7651, 0.7613, 0.7616, 0.7614, 0.7614, 0.7607, 0.7602, 0.7611, 0.7622, 0.7615,
         0.7598, 0.7598, 0.7592, 0.7573, 0.7566, 0.7567, 0.7591, 0.7582, 0.7585, 0.7613,
         0.7631, 0.7615, 0.76, 0.7613, 0.7627, 0.7627, 0.7608, 0.7583, 0.7575, 0.7562,
         0.752, 0.7512, 0.7512, 0.7517, 0.752, 0.7511, 0.748, 0.7509, 0.7531, 0.7531,
         0.7527, 0.7498, 0.7493, 0.7504, 0.75, 0.7491, 0.7491, 0.7485, 0.7484, 0.7492,
         0.7471, 0.7459, 0.7477, 0.7477, 0.7483, 0.7458, 0.7448, 0.743, 0.7399, 0.7395,
         0.7395, 0.7378, 0.7382, 0.7362, 0.7355, 0.7348, 0.7361, 0.7361, 0.7365, 0.7362,
         0.7331, 0.7339, 0.7344, 0.7327, 0.7327, 0.7336, 0.7333, 0.7359, 0.7359, 0.7372,
         0.736, 0.736, 0.735, 0.7365, 0.7384, 0.7395, 0.7413, 0.7397, 0.7396, 0.7385,
         0.7378, 0.7366, 0.74, 0.7411, 0.7406, 0.7405, 0.7414, 0.7431, 0.7431, 0.7438,
         0.7443, 0.7443, 0.7443, 0.7434, 0.7429, 0.7442, 0.744, 0.7439, 0.7437, 0.7437,
         0.7429, 0.7403, 0.7399, 0.7418, 0.7468, 0.748, 0.748, 0.749, 0.7494, 0.7522,
         0.7515, 0.7502, 0.7472, 0.7472, 0.7462, 0.7455, 0.7449, 0.7467, 0.7458, 0.7427,
         0.7427, 0.743, 0.7429, 0.744, 0.743, 0.7422, 0.7388, 0.7388, 0.7369, 0.7345,
         0.7345, 0.7345, 0.7352, 0.7341, 0.7341, 0.734, 0.7324, 0.7272, 0.7264, 0.7255,
         0.7258, 0.7258, 0.7256, 0.7257, 0.7247, 0.7243, 0.7244, 0.7235, 0.7235, 0.7235,
         0.7235, 0.7262, 0.7288, 0.7301, 0.7337, 0.7337, 0.7324, 0.7297, 0.7317, 0.7315,
         0.7288, 0.7263, 0.7263, 0.7242, 0.7253, 0.7264, 0.727, 0.7312, 0.7305, 0.7305,
         0.7318, 0.7358, 0.7409, 0.7454, 0.7437, 0.7424, 0.7424, 0.7415, 0.7419, 0.7414,
         0.7377, 0.7355, 0.7315, 0.7315, 0.732, 0.7332, 0.7346, 0.7328, 0.7323, 0.734,
         0.734, 0.7336, 0.7351, 0.7346, 0.7321, 0.7294, 0.7266, 0.7266, 0.7254, 0.7242,
         0.7213, 0.7197, 0.7209, 0.721, 0.721, 0.721, 0.7209, 0.7159, 0.7133, 0.7105,
         0.7099, 0.7099, 0.7093, 0.7093, 0.7076, 0.707, 0.7049, 0.7012, 0.7011, 0.7019,
         0.7046, 0.7063, 0.7089, 0.7077, 0.7077, 0.7077, 0.7091, 0.7118, 0.7079, 0.7053,
         0.705, 0.7055, 0.7055, 0.7045, 0.7051, 0.7051, 0.7017, 0.7, 0.6995, 0.6994,
         0.7014, 0.7036, 0.7021, 0.7002, 0.6967, 0.695, 0.695, 0.6939, 0.694, 0.6922,
         0.6919, 0.6914, 0.6894, 0.6891, 0.6904, 0.689, 0.6834, 0.6823, 0.6807, 0.6815,
         0.6815, 0.6847, 0.6859, 0.6822, 0.6827, 0.6837, 0.6823, 0.6822, 0.6822, 0.6792,
         0.6746, 0.6735, 0.6731, 0.6742, 0.6744, 0.6739, 0.6731, 0.6761, 0.6761, 0.6785,
         0.6818, 0.6836, 0.6823, 0.6805, 0.6793, 0.6849, 0.6833, 0.6825, 0.6825, 0.6816,
         0.6799, 0.6813, 0.6809, 0.6868, 0.6933, 0.6933, 0.6945, 0.6944, 0.6946, 0.6964,
         0.6965, 0.6956, 0.6956, 0.695, 0.6948, 0.6928, 0.6887, 0.6824, 0.6794, 0.6794,
         0.6803, 0.6855, 0.6824, 0.6791, 0.6783, 0.6785, 0.6785, 0.6797, 0.68, 0.6803,
         0.6805, 0.676, 0.677, 0.677, 0.6736, 0.6726, 0.6764, 0.6821, 0.6831, 0.6842,
         0.6842, 0.6887, 0.6903, 0.6848, 0.6824, 0.6788, 0.6814, 0.6814, 0.6797, 0.6769,
         0.6765, 0.6733, 0.6729, 0.6758, 0.6758, 0.675, 0.678, 0.6833, 0.6856, 0.6903,
         0.6896, 0.6896, 0.6882, 0.6879, 0.6862, 0.6852, 0.6823, 0.6813, 0.6813, 0.6822,
         0.6802, 0.6802, 0.6784, 0.6748, 0.6747, 0.6747, 0.6748, 0.6733, 0.665, 0.6611,
         0.6583, 0.659, 0.659, 0.6581, 0.6578, 0.6574, 0.6532, 0.6502, 0.6514, 0.6514,
         0.6507, 0.651, 0.6489, 0.6424, 0.6406, 0.6382, 0.6382, 0.6341, 0.6344, 0.6378,
         0.6439, 0.6478, 0.6481, 0.6481, 0.6494, 0.6438, 0.6377, 0.6329, 0.6336, 0.6333,
         0.6333, 0.633, 0.6371, 0.6403, 0.6396, 0.6364, 0.6356, 0.6356, 0.6368, 0.6357,
         0.6354, 0.632, 0.6332, 0.6328, 0.6331, 0.6342, 0.6321, 0.6302, 0.6278, 0.6308,
         0.6324, 0.6324, 0.6307, 0.6277, 0.6269, 0.6335, 0.6392, 0.64, 0.6401, 0.6396,
         0.6407, 0.6423, 0.6429, 0.6472, 0.6485, 0.6486, 0.6467, 0.6444, 0.6467, 0.6509,
         0.6478, 0.6461, 0.6461, 0.6468, 0.6449, 0.647, 0.6461, 0.6452, 0.6422, 0.6422,
         0.6425, 0.6414, 0.6366, 0.6346, 0.635, 0.6346, 0.6346, 0.6343, 0.6346, 0.6379,
         0.6416, 0.6442, 0.6431, 0.6431, 0.6435, 0.644, 0.6473, 0.6469, 0.6386, 0.6356,
         0.634, 0.6346, 0.643, 0.6452, 0.6467, 0.6506, 0.6504, 0.6503, 0.6481, 0.6451,
         0.645, 0.6441, 0.6414, 0.6409, 0.6409, 0.6428, 0.6431, 0.6418, 0.6371, 0.6349,
         0.6333, 0.6334, 0.6338, 0.6342, 0.632, 0.6318, 0.637, 0.6368, 0.6368, 0.6383,
         0.6371, 0.6371, 0.6355, 0.632, 0.6277, 0.6276, 0.6291, 0.6274, 0.6293, 0.6311,
         0.631, 0.6312, 0.6312, 0.6304, 0.6294, 0.6348, 0.6378, 0.6368, 0.6368, 0.6368,
         0.636, 0.637, 0.6418, 0.6411, 0.6435, 0.6427, 0.6427, 0.6419, 0.6446, 0.6468,
         0.6487, 0.6594, 0.6666, 0.6666, 0.6678, 0.6712, 0.6705, 0.6718, 0.6784, 0.6811,
         0.6811, 0.6794, 0.6804, 0.6781, 0.6756, 0.6735, 0.6763, 0.6762, 0.6777, 0.6815,
         0.6802, 0.678, 0.6796, 0.6817, 0.6817, 0.6832, 0.6877, 0.6912, 0.6914, 0.7009,
         0.7012, 0.701, 0.7005, 0.7076, 0.7087, 0.717, 0.7105, 0.7031, 0.7029, 0.7006,
         0.7035, 0.7045, 0.6956, 0.6988, 0.6915, 0.6914, 0.6859, 0.6778, 0.6815, 0.6815,
         0.6843, 0.6846, 0.6846, 0.6923, 0.6997, 0.7098, 0.7188, 0.7232, 0.7262, 0.7266,
         0.7359, 0.7368, 0.7337, 0.7317, 0.7387, 0.7467, 0.7461, 0.7366, 0.7319, 0.7361,
         0.7437, 0.7432, 0.7461, 0.7461, 0.7454, 0.7549, 0.7742, 0.7801, 0.7903, 0.7876,
         0.7928, 0.7991, 0.8007, 0.7823, 0.7661, 0.785, 0.7863, 0.7862, 0.7821, 0.7858,
         0.7731, 0.7779, 0.7844, 0.7866, 0.7864, 0.7788, 0.7875, 0.7971, 0.8004, 0.7857,
         0.7932, 0.7938, 0.7927, 0.7918, 0.7919, 0.7989, 0.7988, 0.7949, 0.7948, 0.7882,
         0.7745, 0.771, 0.775, 0.7791, 0.7882, 0.7882, 0.7899, 0.7905, 0.7889, 0.7879,
         0.7855, 0.7866, 0.7865, 0.7795, 0.7758, 0.7717, 0.761, 0.7497, 0.7471, 0.7473,
         0.7407, 0.7288, 0.7074, 0.6927, 0.7083, 0.7191, 0.719, 0.7153, 0.7156, 0.7158,
         0.714, 0.7119, 0.7129, 0.7129, 0.7049, 0.7095
         ]
      }
   ];
   
   var json = {};
   json.chart = chart;
   json.title = title;
   json.subtitle = subtitle;
   json.legend = legend;
   json.xAxis = xAxis;
   json.yAxis = yAxis;  
   json.series = series;
   json.plotOptions = plotOptions;
   $('#container_highcharts4').highcharts(json);
  
});
</script>
   
        <br />      
        
        <!--<object type="text/html" data="https://hijiangtao.github.io/ss-vis-component/" style="width:100%; height:1000px"></object>-->
        <!--<object type="text/html" data="http://localhost:7474/browser/" style="width:100%; height:500px"></object>-->
        <!--<object data="http://mbostock.github.io/d3/talk/20111116/airports.html" width="1300" height="800"></object>-->
	<table class="table table-hover">
		       <tr><th>Latitude</th>
			<th>Longitude</th>
			<th>Date</th>
                        <th>Text</th>
			<th>Polarite</th></tr>
		{% for tweet in liste %}
			<tr><td>{{ tweet.latitude }}</td>
			<td>{{ tweet.longitude }}</td>
			<td>{{ tweet.date }}</td>
			<td>{{ tweet.text }}</td>
			<td>{{ tweet.polarite }}</td></tr>
		{% endfor %}
        </table>
      <footer style="width:100%" class="bg-primary" >
            <p style="font-weight:bold;font-style:italic;width:100%">
                &copy; 2017<br />
                Auteur : Pierre Rubens Milorme<br />
                prubensmilorme@gmail.com<br />
                senburbens@gmail.com
            </p>
      <footer>              
   </body>
</html>
